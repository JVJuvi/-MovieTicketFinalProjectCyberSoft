if (self.CavalryLogger) { CavalryLogger.start_js(["ao9np+F"]); }

__d("CowatchRTRoute_app.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CowatchRTRoute_app",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CowatchRTFeature",abstractKey:null};e.exports=a}),null);
__d("CowatchRTHeaderButton_app.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CowatchRTHeaderButton_app",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CowatchRTFeature",abstractKey:null};e.exports=a}),null);
__d("CowatchRTDataProvider_app.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CowatchRTDataProvider_app",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CowatchRTFeature",abstractKey:null};e.exports=a}),null);
__d("CowatchStateSyncDataProvider_effect.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CowatchStateSyncDataProvider_effect",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CowatchMeetupFeature",abstractKey:null};e.exports=a}),null);
__d("CowatchAutoplaySubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"autoplay_action_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"autoplay_display_state",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],g={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:f,storageKey:null};f={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null};var h={alias:null,args:[{kind:"Literal",name:"height",value:540},{kind:"Literal",name:"sizing",value:"cover-fill-cropped"},{kind:"Literal",name:"width",value:960}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:'image(height:540,sizing:"cover-fill-cropped",width:960)'},i={alias:null,args:null,kind:"ScalarField",name:"preview_duration_ms",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CowatchAutoplaySubscription",selections:[{alias:null,args:b,concreteType:"MessengerCowatchAutoplaySubscribeResponsePayload",kind:"LinkedField",name:"messenger_cowatch_autoplay_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"CowatchAutoplayState",kind:"LinkedField",name:"autoplay_state",plural:!1,selections:[c,d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"autoplay_video",plural:!1,selections:[e,g,f,{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[h],storageKey:null}],storageKey:null},i],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CowatchAutoplaySubscription",selections:[{alias:null,args:b,concreteType:"MessengerCowatchAutoplaySubscribeResponsePayload",kind:"LinkedField",name:"messenger_cowatch_autoplay_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"CowatchAutoplayState",kind:"LinkedField",name:"autoplay_state",plural:!1,selections:[c,d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"autoplay_video",plural:!1,selections:[e,g,f,{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[h,e],storageKey:null}],storageKey:null},i],storageKey:null}],storageKey:null}]},params:{id:"4156062107798936",metadata:{subscriptionName:"messenger_cowatch_autoplay_subscribe"},name:"CowatchAutoplaySubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CowatchLivingRoomUpdateSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}];d={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[c,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:d,storageKey:null}],storageKey:null};var e={alias:null,args:null,kind:"ScalarField",name:"is_non_interactable",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"living_room_event",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CowatchLivingRoomUpdateSubscription",selections:[{alias:null,args:b,concreteType:"MessengerLivingRoomUpdateSubscribeResponsePayload",kind:"LinkedField",name:"messenger_living_room_update_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerLivingRoom",kind:"LinkedField",name:"living_room",plural:!1,selections:[c,{alias:null,args:null,concreteType:"LivingRoomVideoState",kind:"LinkedField",name:"video_state",plural:!1,selections:[{alias:null,args:null,concreteType:"LivingRoomContentItem",kind:"LinkedField",name:"content_item",plural:!1,selections:[d],storageKey:null},e],storageKey:null}],storageKey:null},f,g],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CowatchLivingRoomUpdateSubscription",selections:[{alias:null,args:b,concreteType:"MessengerLivingRoomUpdateSubscribeResponsePayload",kind:"LinkedField",name:"messenger_living_room_update_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerLivingRoom",kind:"LinkedField",name:"living_room",plural:!1,selections:[c,{alias:null,args:null,concreteType:"LivingRoomVideoState",kind:"LinkedField",name:"video_state",plural:!1,selections:[{alias:null,args:null,concreteType:"LivingRoomContentItem",kind:"LinkedField",name:"content_item",plural:!1,selections:[d,c],storageKey:null},e],storageKey:null}],storageKey:null},f,g],storageKey:null}]},params:{id:"3199418836809352",metadata:{subscriptionName:"messenger_living_room_update_subscribe"},name:"CowatchLivingRoomUpdateSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CowatchOngoingLivingRoomQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"threadID"}],b=[{kind:"Variable",name:"thread_id",variableName:"threadID"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CowatchOngoingLivingRoomQuery",selections:[{alias:null,args:b,concreteType:"MessengerLivingRoom",kind:"LinkedField",name:"ongoing_messenger_living_room",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CowatchOngoingLivingRoomQuery_livingRoom"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CowatchOngoingLivingRoomQuery",selections:[{alias:null,args:b,concreteType:"MessengerLivingRoom",kind:"LinkedField",name:"ongoing_messenger_living_room",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"5469954586407822",metadata:{},name:"CowatchOngoingLivingRoomQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CowatchOngoingLivingRoomQuery_livingRoom.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CowatchOngoingLivingRoomQuery_livingRoom",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"MessengerLivingRoom",abstractKey:null};e.exports=a}),null);
__d("CowatchVideoStateUpdateSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},d=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],e={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:d,storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"tab_source",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:36,width:36)"},i={alias:null,args:null,kind:"ScalarField",name:"action_id",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"video_event",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"video_player_state",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"marker_offset_seconds",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"event_logged_timestamp",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"current_server_timestamp",storageKey:null};d={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"cowatch_content_rating_text",storageKey:null}],storageKey:null};var o={alias:null,args:null,kind:"ScalarField",name:"is_non_interactable",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CowatchVideoStateUpdateSubscription",selections:[{alias:null,args:b,concreteType:"MessengerCowatchActiveMediaStateUpdateSubscribeResponsePayload",kind:"LinkedField",name:"messenger_cowatch_active_media_state_update_subscribe",plural:!1,selections:[c,e,f,{alias:null,args:null,concreteType:"LivingRoomVideoState",kind:"LinkedField",name:"video_state",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[g,h],storageKey:null},i,j,k,l,m,n,{alias:null,args:null,concreteType:"LivingRoomContentItem",kind:"LinkedField",name:"content_item",plural:!1,selections:[d],storageKey:null},o],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CowatchVideoStateUpdateSubscription",selections:[{alias:null,args:b,concreteType:"MessengerCowatchActiveMediaStateUpdateSubscribeResponsePayload",kind:"LinkedField",name:"messenger_cowatch_active_media_state_update_subscribe",plural:!1,selections:[c,e,f,{alias:null,args:null,concreteType:"LivingRoomVideoState",kind:"LinkedField",name:"video_state",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g,h],storageKey:null},i,j,k,l,m,n,{alias:null,args:null,concreteType:"LivingRoomContentItem",kind:"LinkedField",name:"content_item",plural:!1,selections:[d,g],storageKey:null},o],storageKey:null}],storageKey:null}]},params:{id:"3283084115134564",metadata:{subscriptionName:"messenger_cowatch_active_media_state_update_subscribe"},name:"CowatchVideoStateUpdateSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("RoomsChatRTSideChatRoute_app.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RoomsChatRTSideChatRoute_app",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"RoomsChatRTFeature",abstractKey:null};e.exports=a}),null);
__d("BasePopoverArrowContainer.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","Locale","react","stylex","testID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k=6,l=16,m={arrow:{borderBottomColor:"d06cv69u",borderEndColor:"r7dfy6xl",borderStartColor:"cdcbzqsl",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopColor:"jgf7e1nu",borderTopWidth:"tl61u9r6",borderEndWidth:"bcctvi4p",borderBottomWidth:"gcjuebxg",borderStartWidth:"kvs4odcb",pointerEvents:"hzruof5a",position:"pmk7jnqg"},arrowAlignBottom:{bottom:"i09qtzwb"},arrowAlignEnd:{end:"n7fi1qx3"},arrowAlignHorizontalCenter:{start:"h9efg1rk"},arrowAlignStart:{start:"j9ispegn"},arrowAlignTop:{top:"kr520xx4"},arrowAlignVerticalCenter:{top:"rarmybbq"}},n={above:{marginBottom:"ama3r5zh"},below:{marginTop:"swg4t2nn"},end:{marginStart:"aoep172s"},start:{marginEnd:"r70wmyd8"}},o={above:{borderBottomColor:"j7g94pet",borderStartColor:"b74d5cxt",boxShadow:"tpe1gtqi",top:"i42f9fw1"},below:{borderEndColor:"et4y5ytx",borderTopColor:"np69z8it",bottom:"bssd97o4",boxShadow:"n4j0glhw"},end:{borderBottomColor:"j7g94pet",borderStartColor:"b74d5cxt",boxShadow:"tpe1gtqi",end:"p72yiolg"},start:{borderBottomColor:"j7g94pet",borderEndColor:"et4y5ytx",boxShadow:"jxfglsfo",start:"lu1ps8bl"}},p=d("Locale").isRTL(),q=p?"start":"end",r=p?"end":"start";function a(a,b){var d=a.arrowAlignment,e=a.children,f=a.testid,g=a.withArrow,s=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["arrowAlignment","children","testid","withArrow","xstyle"]);var t=i(c("BaseContextualLayerOrientationContext")),u=t.align,v=t.position,w=i(c("BaseContextualLayerContextSizeContext")),x=(t=i(c("BaseContextualLayerLayerAdjustmentContext")))!=null?t:0;t=n[v];var y=j(function(){var a=0,b=0,c=0,e=0,f=0;switch(v){case"above":c+=-x;e+=-7;f=45*(p?1:-1);break;case"below":c+=-x;e+=7;f=45*(p?1:-1);break;case r:c+=-6;e+=-x;f=-45;break;case q:c+=6;e+=-x;f=45;break}var g=l;if(v==="start"||v==="end"){d==="center"&&(g=w?w.height/2:0);var h=Math.max(g,l),i=h-g;u==="start"?(e+=h-k,b-=i):u==="end"&&(e-=h-k,b+=i)}else if(v==="above"||v==="below"){d==="center"&&(g=w?w.width/2:0);h=Math.max(g,l);i=h-g;u===r?(c+=h-k,a-=i):u===q&&(c-=h-k,a+=i)}return{arrowTransform:"translate("+c+"px, "+e+"px) rotate("+f+"deg)",popoverTransform:"translate("+a+"px, "+b+"px)"}},[u,d,w,x,v]),z=y.arrowTransform;y=y.popoverTransform;return h.jsxs("div",babelHelpers["extends"]({},a,{className:c("stylex")(s,g&&t),ref:b,style:g?{transform:y}:void 0},c("testID")(f),{children:[e,g?h.jsx("div",{className:c("stylex")(m.arrow,o[v],(v==="above"||v==="below")&&[u==="middle"&&m.arrowAlignHorizontalCenter,u==="start"&&m.arrowAlignStart,u==="end"&&m.arrowAlignEnd],(v==="start"||v==="end")&&[u==="middle"&&m.arrowAlignVerticalCenter,u==="start"&&m.arrowAlignTop,u==="end"&&m.arrowAlignBottom]),style:{transform:z}}):null]}))}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("MessengerFriendsGenericAdd.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 36 36",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M17.25 12.305C17.25 16.207 19.446 18 22 18s4.75-1.793 4.75-5.695C26.75 9.123 24.75 7 22 7s-4.75 2.123-4.75 5.305zM29.94 28c.69 0 1.06-.595 1.06-1.335C31 22.985 26.835 20 22 20s-9 2.985-9 6.665c0 .74.37 1.335 1.06 1.335h15.88zM8 12a1 1 0 1 1 2 0v2.75c0 .138.112.25.25.25H13a1 1 0 1 1 0 2h-2.75a.25.25 0 0 0-.25.25V20a1 1 0 1 1-2 0v-2.75a.25.25 0 0 0-.25-.25H5a1 1 0 1 1 0-2h2.75a.25.25 0 0 0 .25-.25V12z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("RTWebAppConfig",["OverlayConfigLayerBuilder","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new(c("OverlayConfigLayerBuilder"))(c("OverlayConfigLayerSource").APP_JS);b.setZenonSdpTransformConfigPreferIsacForGroupAudio(!0);b.setZenonPlatformSupportConfigSupportsZenonPlatform(a);return b.build()}g.getConfig=a}),98);
__d("RTWebComponentLibrary",["URI","ZenonDominantSpeakerProvider.react","ZenonParticipantOrderProvider.react","ZenonStyleProvider.react","cr:843","deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a={AddParticipantsDialogContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonAddParticipantsDialogContainer.react").__setRef("RTWebComponentLibrary")),CallStatusContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonCallStatusContainer.react").__setRef("RTWebComponentLibrary")),CallView:c("deferredLoadComponent")(c("requireDeferred")("ZenonCallViewOrMainPanel.react").__setRef("RTWebComponentLibrary")),DominantSpeakerProvider:c("ZenonDominantSpeakerProvider.react"),EndCallButtonContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonEndCallButtonContainer.react").__setRef("RTWebComponentLibrary")),EndCallViewContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonEndCallViewContainer.react").__setRef("RTWebComponentLibrary")),FooterButton:c("deferredLoadComponent")(c("requireDeferred")("ZenonFooterButtonWithTooltip.react").__setRef("RTWebComponentLibrary")),GrantUserMediaAccessViewContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonGrantUserMediaAccessViewContainer.react").__setRef("RTWebComponentLibrary")),GridItemContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonGridItemContainer.react").__setRef("RTWebComponentLibrary")),GridViewContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonFixedSizeGridViewContainer.react").__setRef("RTWebComponentLibrary")),InCallContentContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonInCallContentContainer.react").__setRef("RTWebComponentLibrary")),InCallFooterContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonInCallFooterContainer.react").__setRef("RTWebComponentLibrary")),InCallHeaderContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonInCallHeaderContainer.react").__setRef("RTWebComponentLibrary")),InCallViewContainer:c("deferredLoadComponent")(c("requireDeferred")("RTWebInCallViewContainer.react").__setRef("RTWebComponentLibrary")),MediaItemContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonMediaItemContainer.react").__setRef("RTWebComponentLibrary")),MediaViewContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonMediaViewContainer.react").__setRef("RTWebComponentLibrary")),ParticipantOrderProvider:c("ZenonParticipantOrderProvider.react"),ParticipantPopoverMenu:c("deferredLoadComponent")(c("requireDeferred")("ZenonPopoverMenu.react").__setRef("RTWebComponentLibrary")),ParticipantsControlButtonContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonAddParticipantsButtonContainer.react").__setRef("RTWebComponentLibrary")),ParticipantsViewDialogContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonViewParticipantsDialogContainer.react").__setRef("RTWebComponentLibrary")),RemoteViewContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonRemoteViewContainer.react").__setRef("RTWebComponentLibrary")),SettingsHelpLink:c("deferredLoadComponent")(c("requireDeferred")("ZenonSettingsHelpLink.react").__setRef("RTWebComponentLibrary")),ShareLinkImage:c("deferredLoadComponent")(c("requireDeferred")("MeetupShareLinkImage.react").__setRef("RTWebComponentLibrary")),StyleProvider:c("ZenonStyleProvider.react"),ToggleAudioButtonContainer:b("cr:843"),ToggleScreenSharingButtonContainer:c("deferredLoadComponent")(c("requireDeferred")("ZenonToggleScreenSharingButtonContainer.react").__setRef("RTWebComponentLibrary")),UserMediaAccessHelpCenterURL:new(c("URI"))("https://www.facebook.com/help/232232800134371"),VideoElem:c("deferredLoadComponent")(c("requireDeferred")("ZenonVideo.react").__setRef("RTWebComponentLibrary"))};d=a;g["default"]=d}),98);
__d("ZenonEscalationDialogActivityNameOnDeny$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a={coplay:"playing a game together",coview:"view together is in use",cowatch:"watching a video together",generic:"another activity is in progress",polls:"a poll is open",screensharing:"screen share is in use"};b=a;f["default"]=b}),66);
__d("ZenonEscalationDialogActivityNameOnTakenOver$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a={coplay:"the game you're currently playing together",coview:"the item you\u2019re currently viewing together",cowatch:"the video you're currently watching together",generic:"the ongoing activity",polls:"the poll that\u2019s currently open",screensharing:"screen share"};b=a;f["default"]=b}),66);
__d("RoomsChatRTSideContentContainer.react",["CometPlaceholder.react","JSResourceForInteraction","LSPlatformConfig.re","LSPlatformZenonConfigDeferred.re","MercurySyncEnvironment","MessengerSurfaceContext.re","MessengerSurfaceType.re","ZenonAppSpinner.react","ZenonThreadHooks","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("RoomsSideChatContainer.react").__setRef("RoomsChatRTSideContentContainer.react")),l=c("lazyLoadComponent")(c("JSResourceForInteraction")("RoomsChatRTSideChatStateProvider").__setRef("RoomsChatRTSideContentContainer.react"));function a(a){var b=d("ZenonThreadHooks").useMercuryThread();i(function(){d("MercurySyncEnvironment").setUp()},[]);a=j(function(){var a;return(a=b==null?void 0:b.thread_id)!=null?a:null},[b]);a=a==null?h.jsx(c("ZenonAppSpinner.react"),{}):h.jsx(d("LSPlatformConfig.re").Provider_make,{config:d("LSPlatformZenonConfigDeferred.re").config,children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(l,{children:h.jsx(d("MessengerSurfaceContext.re").context.Provider,{value:c("MessengerSurfaceType.re").messenger,children:h.jsx(k,{threadID:a})})})})});return h.jsx("div",{className:"dzu65fdn bgwf36b8 r5baciwu nu47e99o muiqotw9 p3f4w9ai t7elcel3 foed1vyy joqg7qk0 gzmsve4i lejc8ivx dr8dm670 pcqjepyj",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RoomsChatRTSideChatRoute",["RoomsChatRTSideChatRoute_app.graphql","RoomsChatRTSideContentContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("RoomsChatRTSideChatRoute_app.graphql");a={content:c("RoomsChatRTSideContentContainer.react"),name:"rt_rooms_chat"};g["default"]=a}),98);
__d("ZenonDesktopSidePanelRouteMap",["RoomsChatRTSideChatRoute","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("immutable").OrderedMap();c("RoomsChatRTSideChatRoute")!=null&&(a=a.set(c("RoomsChatRTSideChatRoute").name,c("RoomsChatRTSideChatRoute")));b=a;g["default"]=b}),98);
__d("ZenonMWAVEscalationErrorBoundaryProject",[],(function(a,b,c,d,e,f){"use strict";a="mw_av_escalation";f["default"]=a}),66);
__d("ZenonMWAVEscalationEscParticipantFBIDAtom",["Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").atom({"default":null,key:"ZenonMWAVEscalationEscParticipantFBIDAtom"});g["default"]=a}),98);
__d("ZenonMWAVEscalationActions",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.type!=="contextUpdate"?{}:b.context}f.contextUpdate=a}),66);
__d("ZenonMWAVEscalationGuards",["ZenonThreadType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a.threadType===c("ZenonThreadType").OneToOne&&!h(a,b)&&a.capabilityAllowEscalation&&a.callStartedAsAudio===!0}function h(a,b){return b&&b.type==="contextUpdate"?h(babelHelpers["extends"]({},a,b.context),null):a.connectedRemoteUserCount>1}g.escalationFlowPermitted=a;g.hasMoreThanOneParticipant=h}),98);
__d("ZenonMWAVEscalationStateMachine",["$InternalEnum","ZenonCallsModelTypes","ZenonMWAVEscalationActions","ZenonMWAVEscalationGuards","xstate"],(function(a,b,c,d,e,f,g){"use strict";var h;e=b("$InternalEnum").Mirrored(["None","LocalConsent","RemoteConsent","Escalated"]);f=Object.freeze({callStartedAsAudio:null,capabilityAllowEscalation:!1,connectedRemoteUserCount:0,escalatingParticipantFBID:null,onLocalDecline:function(){},threadType:null,videoEscalationStatus:d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.None});b=[{actions:[d("xstate").assign(d("ZenonMWAVEscalationActions").contextUpdate)],cond:d("ZenonMWAVEscalationGuards").hasMoreThanOneParticipant,target:e.Escalated},{actions:[d("xstate").assign(d("ZenonMWAVEscalationActions").contextUpdate)]}];c={context:f,id:"videoEscalationStateMachine",initial:e.None,states:(h={},h[e.None]={on:{contextUpdate:b,localEnabledVideo:[{actions:[a(d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.PendingPeerFeedback)],cond:d("ZenonMWAVEscalationGuards").escalationFlowPermitted,target:e.LocalConsent},{target:e.Escalated}],remoteEnabledVideo:[{actions:[a(d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.InitiatedFromPeer),d("xstate").assign(c)],cond:d("ZenonMWAVEscalationGuards").escalationFlowPermitted,target:e.RemoteConsent},{target:e.Escalated}]}},h[e.LocalConsent]={on:{contextUpdate:b,escalationTimeout:{actions:[a(d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.TimedOut)]},localDisabledVideo:{actions:[a(d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.Cancelled)],target:e.None},remoteDeclineReceived:{actions:[a(d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.RemoteDeclined)]},remoteEnabledVideo:{target:e.Escalated}}},h[e.RemoteConsent]={on:{contextUpdate:b,escalationTimeout:{actions:[a(d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.TimedOut)]},localDecline:{actions:[function(a){a.onLocalDecline()},a(d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.LocalDeclined)]},localEnabledVideo:{target:e.Escalated},remoteDisabledVideo:{actions:[a(d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.Cancelled)],target:e.None}}},h[e.Escalated]={entry:[a(d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.None)]},h)};b=d("xstate").Machine(c).withConfig({});function a(a){return d("xstate").assign(function(){return{videoEscalationStatus:a}})}function c(a,b){return b.type!=="remoteEnabledVideo"?{}:{escalatingParticipantFBID:b.escalatingParticipantFBID}}g.ZenonMWAVEscalationState=e;g.defaultContext=f;g.zenonMWAVEscalationStateMachine=b}),98);
__d("ZenonVideoStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Missing","Enabled","Disabled"]);f.ZenonVideoState=a}),66);
__d("ZenonMWAVEscalationVideoToggleHooks",["ZenonCallsContext","ZenonVideoStateTypes","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.useContext,j=h.useEffect,k=h.useMemo,l=h.useState;function a(a){m(a,!0)}function b(a){m(a,!0,!1)}function e(a){m(a,!1)}function f(a){m(a,!1,!1)}function m(a,b,e){e===void 0&&(e=!0);var f=i(c("ZenonCallsContext")),g=f.calls;f=f.currentClientCallId;var h=(g=g.get(f))!=null?g:null;f=l(d("ZenonVideoStateTypes").ZenonVideoState.Missing);var m=f[0],n=f[1],o=k(function(){return h==null?void 0:h.mediaTracks.filter(function(a){return a.remote===b&&(a.contentType==="video"||a.contentType==="screen")}).first()},[h==null?void 0:h.mediaTracks,b]),p=k(function(){return o!=null?o.enabled?d("ZenonVideoStateTypes").ZenonVideoState.Enabled:d("ZenonVideoStateTypes").ZenonVideoState.Disabled:d("ZenonVideoStateTypes").ZenonVideoState.Missing},[o]),q=k(function(){return h==null?void 0:h.participants.find(function(a){return a.trackIDs.has((a=o==null?void 0:o.trackId)!=null?a:"")})},[h==null?void 0:h.participants,o==null?void 0:o.trackId]);j(function(){if(e){if(m!==d("ZenonVideoStateTypes").ZenonVideoState.Enabled&&p===d("ZenonVideoStateTypes").ZenonVideoState.Enabled){var b;a((b=q==null?void 0:q.id)!=null?b:null)}}else m===d("ZenonVideoStateTypes").ZenonVideoState.Enabled&&p!==d("ZenonVideoStateTypes").ZenonVideoState.Enabled&&a(null);n(p)},[a,p,m,e,q])}g.useZenonRemoteEnabledVideo=a;g.useZenonRemoteDisabledVideo=b;g.useZenonLocalEnabledVideo=e;g.useZenonLocalDisabledVideo=f}),98);
__d("useZenonCallStartedAsAudio",["ZenonCallsHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState;function a(){var a=c("ZenonCallsHooks").useLocalVideo(),b=c("ZenonCallsHooks").useLocalAudio(),d=h(null),e=d[0];d=d[1];e===null&&b&&d(!a);return e}g.useZenonCallStartedAsAudio=a}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("xstate-react-0.8.1",["react-0.0.0","xstate-4.16.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h=a(b("xstate-4.16.0")),i={},j={exports:i};function k(){var a=this&&this.__read||function(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e};Object.defineProperty(i,"__esModule",{value:!0});var b=g();function c(c){var d=a(b.useState(void 0),2),e=d[0],f=d[1],g=b.useRef(c);b.useEffect(function(){if(c){g.current=c;var a=c.subscribe(f);return function(){a.unsubscribe()}}},[c]);return[e,g.current?g.current.send:function(){return void 0}]}i.useActor=c}var l=!1;function m(){l||(l=!0,k());return j.exports}var n={},o={exports:n};function p(){var a=this&&this.__assign||function(){a=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return a.apply(this,arguments)},b=this&&this.__rest||function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.indexOf(d)<0&&(c[d]=a[d]);if(a!=null&&typeof Object.getOwnPropertySymbols==="function")for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)b.indexOf(d[e])<0&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c},c=this&&this.__read||function(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e};Object.defineProperty(n,"__esModule",{value:!0});var d=g(),e=h(),f={immediate:!1};function i(g,h){h===void 0&&(h=f);var i=h.context,j=h.guards,k=h.actions,l=h.activities,m=h.services,n=h.delays,o=h.immediate,p=h.state;h=b(h,["context","guards","actions","activities","services","delays","immediate","state"]);j={context:i,guards:j,actions:k,activities:l,services:m,delays:n};l=d.useRef(null);l.current===null&&(l.current=g.withConfig(j,a(a({},g.context),i)));n=d.useRef(null);n.current===null&&(n.current=e.interpret(l.current,h).onTransition(function(a){a.changed&&s(a)}));var q=n.current;d.useEffect(function(){Object.assign(q.machine.options.actions,k)},[k]);d.useEffect(function(){Object.assign(q.machine.options.services,m)},[m]);var r=p?e.State.create(p):q.initialState;j=c(d.useState(function(){return r}),2);g=j[0];var s=j[1];o&&q.start();d.useEffect(function(){q.start(p?r:void 0);return function(){q.stop()}},[]);return[g,q.send,q]}n.useMachine=i;function j(a){var b=c(d.useState(a.state),2),e=b[0],f=b[1];d.useEffect(function(){f(a.state);var b=function(a){a.changed&&f(a)},c=a.subscribe(b);return function(){c.unsubscribe()}},[a]);return[e,a.send,a]}n.useService=j;i=m();n.useActor=i.useActor}var q=!1;function r(){q||(q=!0,p());return o.exports}function c(a){switch(a){case void 0:return r()}}e.exports=c}),null);
__d("xstate-react",["xstate-react-0.8.1"],(function(a,b,c,d,e,f){e.exports=b("xstate-react-0.8.1")()}),null);
__d("useZenonMWAVEscalation",["Recoil","ZenonCallsHooks","ZenonCallsModelTypes","ZenonDataMessageTopics","ZenonMWAVEscalationEscParticipantFBIDAtom","ZenonMWAVEscalationSMSendAtom","ZenonMWAVEscalationStateMachine","ZenonMWAVEscalationVideoToggleHooks","ZenonRemoteVideoRenderingEnabledAtom","ZenonThreadTypeSelector","ZenonVideoEscalationStatusAtom","ZenonVideoEscalator","react","useZenonCallStartedAsAudio","xstate-react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=25e3;function a(){var a=d("Recoil").useSetRecoilState(c("ZenonVideoEscalationStatusAtom")),b=d("Recoil").useSetRecoilState(c("ZenonMWAVEscalationSMSendAtom")),e=d("Recoil").useSetRecoilState(c("ZenonMWAVEscalationEscParticipantFBIDAtom")),f=d("Recoil").useSetRecoilState(c("ZenonRemoteVideoRenderingEnabledAtom")),g=d("xstate-react").useMachine(d("ZenonMWAVEscalationStateMachine").zenonMWAVEscalationStateMachine),j=g[0],k=g[1];b(function(){return k});var l=d("Recoil").useRecoilValue(c("ZenonThreadTypeSelector")),m=c("ZenonCallsHooks").useConnectedRemoteUserCount(),n=d("useZenonCallStartedAsAudio").useZenonCallStartedAsAudio(),o=c("ZenonCallsHooks").useDeclineVideoEscalation(),p=d("ZenonVideoEscalator").useAllowVideoEscalation();h(function(){k({context:{callStartedAsAudio:n,capabilityAllowEscalation:p,connectedRemoteUserCount:m,onLocalDecline:o,threadType:l},type:"contextUpdate"})},[k,n,p,m,o,l]);a(j.context.videoEscalationStatus);f(j.toStrings()[0]==="Escalated");e(j.context.escalatingParticipantFBID);h(function(){if(j.context.videoEscalationStatus===d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.PendingPeerFeedback||j.context.videoEscalationStatus===d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.InitiatedFromPeer){var a=window.setTimeout(function(){k({type:"escalationTimeout"})},i);return function(){return window.clearTimeout(a)}}},[k,j.context.videoEscalationStatus]);d("ZenonMWAVEscalationVideoToggleHooks").useZenonRemoteEnabledVideo(function(a){a!==null&&k({escalatingParticipantFBID:a,type:"remoteEnabledVideo"})});d("ZenonMWAVEscalationVideoToggleHooks").useZenonRemoteDisabledVideo(function(){return k({type:"remoteDisabledVideo"})});d("ZenonMWAVEscalationVideoToggleHooks").useZenonLocalEnabledVideo(function(){return k({type:"localEnabledVideo"})});d("ZenonMWAVEscalationVideoToggleHooks").useZenonLocalDisabledVideo(function(){return k({type:"localDisabledVideo"})});c("ZenonCallsHooks").useDataMessageSubscription(d("ZenonDataMessageTopics").AV_ESCALATION_DECLINE_DATA_MESSAGE_TOPIC,function(){return k({type:"remoteDeclineReceived"})})}g["default"]=a}),98);
__d("ZenonMWAVEscalationEscParticipantFBIDSelector",["Recoil","ZenonMWAVEscalationEscParticipantFBIDAtom"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").selector({get:function(a){a=a.get;return a(c("ZenonMWAVEscalationEscParticipantFBIDAtom"))},key:"ZenonMWAVEscalationEscParticipantSelector"});g["default"]=a}),98);
__d("ZenonMWAVEscalationPeerInitiatedDialogLayout.react",["fbt","ZenonDialogBody.react","ZenonDialog_DEPRECATED.react","ZenonProfileImageRound.react","getFBTSafeGenderFromGenderConst","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onAccept,d=a.onDecline,e=a.userGender,f=a.userName;a=a.userPhoto;e=c("getFBTSafeGenderFromGenderConst")(e);return i.jsx(c("ZenonDialog_DEPRECATED.react"),{label:"dialog label",width:400,children:i.jsxs(c("ZenonDialogBody.react"),{children:[i.jsxs("div",{className:"jrnc62ll t7elcel3 foed1vyy sd0tyowg",children:[i.jsx("div",{className:"hsd2rpmh",children:i.jsx(c("ZenonProfileImageRound.react"),{diameter:100,profilePictureUrl:a})}),i.jsx("div",{className:"rennink8 s30tea04",children:h._({"*":"{participant} would like to share their video..."},[h._name("participant",f,e)])}),i.jsx("div",{className:"rennink8 s30tea04",children:h._("This will turn your video on.")})]}),i.jsxs("div",{className:"ff6sva7h",children:[i.jsx("button",{className:"ff6sva7h f23feid0 f1144eyk dfketekg dgryc8og osls7j5b s30tea04 di6nqzxa dyco0h0g nsrgps00 j290s9ic jv6sviap bfhj2djv t46uw55m f481skqt epyemlxq m2b8ij95 qwfu4dx6 fg9szsv2 f6xbwjrt","data-testid":void 0,onClick:d,children:h._("Dismiss")}),i.jsx("button",{className:"ff6sva7h f23feid0 f1144eyk dfketekg dgryc8og osls7j5b s30tea04 di6nqzxa dyco0h0g nsrgps00 j290s9ic jv6sviap bfhj2djv t46uw55m f481skqt epyemlxq m2b8ij95 qxrao1l3 i4dle2j1 e9vkp4hv","data-testid":void 0,onClick:b,children:h._("Share video")})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useZenonMWAVEscalationDialog",["GenderConst","Recoil","ZenonCallsModelTypes","ZenonDialogContext","ZenonMWAVEscalationEscParticipantFBIDSelector","ZenonMWAVEscalationHooks","ZenonMWAVEscalationPeerInitiatedDialogLayout.react","ZenonToggleVideoButtonUtil","ZenonUsersHooks","ZenonVideoEscalationStatusSelector","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k="ZenonMWAVEscalationDialog";function a(){var a,b,e=d("Recoil").useRecoilValue(c("ZenonVideoEscalationStatusSelector")),f=i(c("ZenonDialogContext")),g=f.hideByID,l=f.showByID;f=d("ZenonToggleVideoButtonUtil").useToggleVideoButton();var m=f.onToggleVideo,n=d("ZenonMWAVEscalationHooks").useDeclineVideoEscalation();f=d("Recoil").useRecoilValue(c("ZenonMWAVEscalationEscParticipantFBIDSelector"));a=d("ZenonUsersHooks").useZenonUser((a=f)!=null?a:null);var o=(b=(b=a==null?void 0:a.shortName)!=null?b:a==null?void 0:a.name)!=null?b:null,p=(b=a==null?void 0:a.gender)!=null?b:c("GenderConst").UNKNOWN_SINGULAR,q=(b=a==null?void 0:a.profilePictureUrl)!=null?b:null;j(function(){e===d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.InitiatedFromPeer&&o!==null?l(k,h.jsx(c("ZenonMWAVEscalationPeerInitiatedDialogLayout.react"),{onAccept:function(){return m()},onDecline:function(){return n()},userGender:p,userName:o,userPhoto:q},k)):g(k)},[f,e,g,n,m,l,p,o,q]);return null}g["default"]=a}),98);
__d("ZenonMWAVEscalationProvider.react",["useZenonMWAVEscalation","useZenonMWAVEscalationDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("useZenonMWAVEscalation")();c("useZenonMWAVEscalationDialog")();return null}g["default"]=a}),98);
__d("ZenonMWAVEscalationDataProviderPlugin",["ZenonMWAVEscalationErrorBoundaryProject","ZenonMWAVEscalationProvider.react"],(function(a,b,c,d,e,f,g){"use strict";a={errorBoundaryProject:c("ZenonMWAVEscalationErrorBoundaryProject"),impl:{component:c("ZenonMWAVEscalationProvider.react"),type:"required"},key:"mwAVEscalationDataProviderPlugin"};b=a;g["default"]=b}),98);
__d("initializeRTPlugins",["AudioStallRecoveryPlugin","MediaDeviceChangeDataProviderPlugin","ZenonChicletTileOverlayPluginState","ZenonChicletTileOverlayPluginsDefaultList","ZenonContentOverlayPluginState","ZenonContentOverlayPluginsDefaultList","ZenonDataProviderPluginState","ZenonDataProviderPluginsDefaultList","ZenonGridItemOverlayPluginState","ZenonGridItemOverlayPluginsDefaultList","ZenonInCallRouterState","ZenonMWAVEscalationDataProviderPlugin","ZenonMWAVEscalationEnabledHooks","ZenonNavLinkPluginState","ZenonParticipantPopoverMenuItemPluginState","ZenonRingbackToneDataProviderPlugin","ZenonSelfViewOverlayPluginState","ZenonSelfViewOverlayPluginsDefaultList","ZenonTopBarOverlayPluginState","ZenonTopBarOverlayPluginsDefaultList","cr:10011","cr:10049","cr:11052","cr:119","cr:1591674","cr:1719401","cr:1719402","cr:1960270","cr:1960271","cr:215","cr:218","cr:327","cr:330","cr:393","cr:423","cr:424","cr:425","cr:426","cr:849","cr:921","cr:922","cr:923","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e;a.set(d("ZenonInCallRouterState").routeMap,b("cr:1591674"));var f=d("ZenonDataProviderPluginsDefaultList").get();f.push(c("MediaDeviceChangeDataProviderPlugin"));c("AudioStallRecoveryPlugin")&&f.push(c("AudioStallRecoveryPlugin"));b("cr:921")&&f.push(b("cr:921"));b("cr:1960270")&&f.push(b("cr:1960270"));b("cr:215")&&f.push(b("cr:215"));b("cr:849")&&f.push(b("cr:849"));b("cr:423")&&f.push(b("cr:423"));b("cr:10011")&&f.push(b("cr:10011"));b("cr:327")&&f.push(b("cr:327"));c("ZenonMWAVEscalationEnabledHooks").isZenonMWAVEscalationEnabled(!1)&&f.push(c("ZenonMWAVEscalationDataProviderPlugin"));f.push(c("ZenonRingbackToneDataProviderPlugin"));a.set(d("ZenonDataProviderPluginState").plugins,f);f=[];b("cr:922")&&f.push(b("cr:922"));b("cr:11052")&&f.push(b("cr:11052"));b("cr:425")&&f.push(b("cr:425"));b("cr:330")&&f.push(b("cr:330"));b("cr:1960271")&&f.push(b("cr:1960271"));a.set(d("ZenonNavLinkPluginState").plugins,f);f=[];b("cr:1719401")&&f.push(b("cr:1719401"));b("cr:1719402")&&f.push(b("cr:1719402"));a.set(d("ZenonParticipantPopoverMenuItemPluginState").plugins,f);f=d("ZenonTopBarOverlayPluginsDefaultList").get();e=(e=c("qex")._("326"))!=null?e:!1;e&&(b("cr:923")&&f.push(b("cr:923")),b("cr:426")&&f.push(b("cr:426")));a.set(d("ZenonTopBarOverlayPluginState").plugins,f);f=d("ZenonContentOverlayPluginsDefaultList").get();b("cr:10049")&&f.push(b("cr:10049"));e||(b("cr:923")&&f.push(b("cr:923")),b("cr:426")&&f.push(b("cr:426")));a.set(d("ZenonContentOverlayPluginState").plugins,f);e=d("ZenonGridItemOverlayPluginsDefaultList").get();b("cr:218")&&e.push(b("cr:218"));b("cr:424")&&e.push(b("cr:424"));a.set(d("ZenonGridItemOverlayPluginState").plugins,e);f=d("ZenonSelfViewOverlayPluginsDefaultList").get();b("cr:393")&&f.push(b("cr:393"));a.set(d("ZenonSelfViewOverlayPluginState").plugins,f);e=d("ZenonChicletTileOverlayPluginsDefaultList").get();b("cr:119")&&e.push(b("cr:119"));a.set(d("ZenonChicletTileOverlayPluginState").plugins,e)}g["default"]=a}),98);
__d("RTWebApp.react",["FDSSpinner.react","RTWebAppConfig","RTWebComponentLibrary","RTWebMediaConstraints","Recoil","TopLevelKeyCommandListener.react","ZenonActorProvider.react","ZenonAppBase.react","ZenonAppFeaturesProvider.react","ZenonCallIDType","ZenonComponentLibraryContext","ZenonDesktopSidePanelRouteMap","ZenonMaxRemoteVideoSubscriptions","ZenonPanicProvider.react","ZenonPeerID","ZenonScreenSharingSettings","ZenonSidePanelLayoutContainer.react","ZenonSidePanelRouterContext","ZenonVideoConstraintUtils","deferredLoadComponent","initializeGvcOrP2pZenonAppContext","initializeRTPlugins","qex","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("ZenonCallViewContainer.react").__setRef("RTWebApp.react")),j=d("ZenonVideoConstraintUtils").getMWVideoConstraints()||d("RTWebMediaConstraints").MW_VIDEO_CONSTRAINTS;function a(a){var b=a.callID,e=a.groupThreadID,f=a.initializeVideo,g=a.nonce,k=a.peerID,l=a.peerIDForJoiningContext,m=a.roomID,n=a.serverInfoData;a=a.usersToRing;b=d("ZenonCallIDType").convertNumberToZenonCallID(b);k=d("ZenonPeerID").convertStringToPeerID(k);var o=l!=null?d("ZenonPeerID").convertStringToPeerID(l):null,p=k===d("ZenonPeerID").ZenonMWPeerID;l=d("RTWebAppConfig").getConfig(p);return h.jsx(c("ZenonPanicProvider.react"),{children:h.jsx(c("ZenonActorProvider.react"),{children:h.jsx(c("ZenonAppFeaturesProvider.react"),{overrides:{maxRemoteUsersInGrid:100,maxRemoteVideoSubscriptions:d("ZenonMaxRemoteVideoSubscriptions").getMaxRemoteVideoSubscriptions(),maxUserThresholdForScreenSharing:d("ZenonScreenSharingSettings").getScreenSharingMaxUserLimit(),screenSharing:!0},children:h.jsx(c("ZenonComponentLibraryContext").Provider,{value:c("RTWebComponentLibrary"),children:h.jsx(d("Recoil").RecoilRoot,{initializeState:function(a){c("initializeGvcOrP2pZenonAppContext")(a,p,o,e,n),c("initializeRTPlugins")(a)},children:h.jsx(c("ZenonAppBase.react"),{callID:b,config:l,initializeVideo:f,isBlueConfig:!0,mwVideoConstraints:j,nonce:g,p2pVideoConstraints:d("ZenonVideoConstraintUtils").getP2PVideoConstraints()||d("RTWebMediaConstraints").P2P_VIDEO_CONSTRAINTS,peerID:k,peerIDForJoiningContext:o,roomID:m,serverInfoData:n,usersToRing:a,children:h.jsx(c("TopLevelKeyCommandListener.react"),{children:c("qex")._("1908262")?h.jsx(c("ZenonSidePanelRouterContext").Provider,{value:c("ZenonDesktopSidePanelRouteMap"),children:h.jsx(c("ZenonSidePanelLayoutContainer.react"),{children:h.jsx(h.Suspense,{fallback:h.jsx(c("FDSSpinner.react"),{center:!0}),children:h.jsx(i,{})})})}):h.jsx(h.Suspense,{fallback:h.jsx(c("FDSSpinner.react"),{center:!0}),children:h.jsx(i,{})})})})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RTWebInCallViewContainer.react",["ZenonInCallViewContainer.react","cr:1894204","cr:1994622","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=(e=b("cr:1894204"))!=null?e:c("emptyFunction"),j=(d=b("cr:1994622"))!=null?d:c("emptyFunction");function a(a){a=a.children;i();j();return h.jsx(c("ZenonInCallViewContainer.react"),{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CowatchRTRoute",["CowatchRTRoute_app.graphql","CowatchRouteConfig","deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("CowatchRTRoute_app.graphql");a=babelHelpers["extends"]({},d("CowatchRouteConfig").CowatchRouteConfig,{content:c("deferredLoadComponent")(c("requireDeferred")("CowatchRTRoot.react").__setRef("CowatchRTRoute"))});e=a;g["default"]=e}),98);
__d("ZenonCallViewOrMainPanel.react",["cr:1908261","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var c=a["aria-label"],d=a.chatPanel,e=a.children,f=a.content,g=a.footer,i=a.header;a=a.testid;return h.jsx(b("cr:1908261"),{"aria-label":c,chatPanel:d,content:f,footer:g,header:i,testid:void 0,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonNUX_DEPRECATED.react",["cr:11785","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return b("cr:11785")!=null?h.jsx(b("cr:11785"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CowatchConstants",[],(function(a,b,c,d,e,f){"use strict";a=312;b=16;c=8;d=300;e=8;var g=8,h=3,i=128,j=3e3,k=a-2*b,l=Math.round(9*k/16),m=Math.floor(a-2*b-(h-1)*e)/3,n=Math.floor(1.5*m),o=4;o=o*3+2;b=Math.floor(a-2*b-(h-2)*e)/2;var p=Math.floor(1.5*b),q=Math.round(9*i/16),r=["CAROUSEL","SPOTLIGHT"];j={FEATURED_SLIDESHOW_INTERVAL_MS:j,HERO_UNIT_THUMBNAIL_HEIGHT:l,HERO_UNIT_THUMBNAIL_WIDTH:k,LIST_ITEM_THUMBNAIL_HEIGHT:q,LIST_ITEM_THUMBNAIL_WIDTH:i,NUM_SHOW_ITEMS_PER_ROW:h,PROMOTIONAL_RENDERING_STYLES:r,REPEAT_INTERVAL:o,SHOW_GRID_ITEM_HEIGHT:n,SHOW_GRID_ITEM_HEIGHT_LARGE:p,SHOW_GRID_ITEM_WIDTH:m,SHOW_GRID_ITEM_WIDTH_LARGE:b,SIDE_PANEL_PAGINATION_SIZE:c,SIDE_PANEL_SEARCH_DELAY_MS:d,SIDE_PANEL_SEARCH_RESULTS_COUNT:g,SIDE_PANEL_SHOW_GRID_ITEM_MARGIN:e,SIDE_PANEL_WIDTH:a};l=j;f["default"]=l}),66);
__d("useCowatchNotifications",["fbt","JSResource","ZenonNotificationHooks","ZenonTransientNotification.react","lazyLoadComponent","react","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=c("lazyLoadComponent")(c("JSResource")("MessengerContactImage.react").__setRef("useCowatchNotifications")),l=c("lazyLoadComponent")(c("JSResource")("CowatchIcon.react").__setRef("useCowatchNotifications"));function m(a){return h._("{Notification text}",[h._param("Notification text",i.jsx("span",{className:"ryc7bxvm iclc779f",children:a}))])}m.displayName=m.name+" [from "+f.id+"]";function a(){var a=d("ZenonNotificationHooks").usePushZenonNotification();return j(function(b,d){var e="zenon-notif-"+c("uuid")(),f=d!=null&&d!==""?i.jsx(k,{size:40,src:d}):i.jsx(l,{width:18});b!=null&&a(function(a){return i.jsx(c("ZenonTransientNotification.react"),{icon:i.jsx(i.Suspense,{fallback:null,children:i.jsx("div",{className:"lqo7yh2p ocjcko58 t1avcer6 foed1vyy fcqeik31 h6hzo99s a83566g4 aew9upud np6mznyx sd0tyowg",children:f})}),onDismiss:a,text:m(b)},e)})},[a])}g["default"]=a}),98);
__d("useMediaSyncAutoplayOutputState",["useCurrentZenonCall"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCurrentZenonCall")();if(a){return(a=a.stateSyncOutputStates.get("media_sync_autoplay"))==null?void 0:a.data}return null}g["default"]=a}),98);
__d("CowatchStateSyncListeners",["CowatchAtoms","CowatchLoggingHooks","MediaSyncAutoplayState","MediaSyncState","Recoil","VideoPlayerHooks","ZenonActorHooks","ZenonCallsHooks","ZenonInCallDefaultRoute","ZenonInCallRouterHooks","react","useCowatchNotifications","useMediaSyncAutoplayOutputState","useMediaSyncOutputState"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");var h=a.useEffect,i=a.useRef,j=function(a){if(a==null)return 0;var b=Number(a.action_metadata.action_time_ms);a=Number(a.action_metadata.media_position_ms);return(a+(Date.now()-b))/1e3};function k(){var a=i(!0),b=d("VideoPlayerHooks").useController(),e=c("useMediaSyncOutputState")(),f=c("useCowatchNotifications")(),g=e==null?void 0:e.admin_message,j=e==null?void 0:(e=e.actor)==null?void 0:e.avatar_url;h(function(){var c=b.subscribe(function(){var c=b.getCurrentState();c.duration===0&&(a.current=!0);a.current&&c.duration!==0&&(a.current=!1,f(g,j))});return function(){return c.remove()}},[b,f,g,j])}b=function(){var a=d("Recoil").useSetRecoilState(c("CowatchAtoms").isAutoplayShownAtom),b=d("Recoil").useSetRecoilState(c("CowatchAtoms").cowatchSessionIDAtom),e=d("Recoil").useRecoilState(c("CowatchAtoms").cowatchVideoAtom),f=e[0],g=e[1],j=c("useMediaSyncOutputState")(),k=i(j==null?void 0:j.action_metadata.action_time_ms),l=c("ZenonCallsHooks").useServerInfoData(),m=d("CowatchLoggingHooks").useLogMnCowatchRtcEvent(),n=d("Recoil").useSetRecoilState(c("CowatchAtoms").cowatchClosedByUserAtom);h(function(){if(j==null)return;var c=j.action_metadata.action_time_ms;if(k.current!==c){var e,h;k.current=c;c=(c=j==null?void 0:(c=j.content)==null?void 0:(c=c.fb_video)==null?void 0:c.content_id)!=null?c:"";e=(e=(e=j.content.fb_video)==null?void 0:e.is_non_interactable)!=null?e:!1;h=(h=(h=j.content.fb_video)==null?void 0:h.content_rating)!=null?h:"";if(c!==(f==null?void 0:f.id)&&[d("MediaSyncState").Actions.PLAY,d("MediaSyncState").Actions.PAUSE].includes(j.action)){b(l);g({contentRating:h,id:c,isNonInteractable:e,subtitle:(h=(h=j.content.fb_video)==null?void 0:h.subtitle)!=null?h:"",title:(h=j==null?void 0:(h=j.content)==null?void 0:(h=h.fb_video)==null?void 0:h.title)!=null?h:""});a(!1);if(e===!0){m("cowatch_bumper_ad_played",{cowatchSessionID:(h=l)!=null?h:void 0,source:"PMV",videoID:c})}}else j.action===d("MediaSyncState").Actions.STOP&&(b(null),g(null),n(!0))}},[j,a,f==null?void 0:f.id,m,g,b,l,n])};var l=function(){var a=d("Recoil").useSetRecoilState(c("CowatchAtoms").cowatchSessionIDAtom),b=d("Recoil").useRecoilState(c("CowatchAtoms").cowatchVideoAtom),e=b[0],f=b[1],g=d("VideoPlayerHooks").useController(),k=c("useMediaSyncOutputState")(),l=i(k==null?void 0:k.action_metadata.action_time_ms);b=d("ZenonInCallRouterHooks").useSupportedRoute(c("ZenonInCallDefaultRoute").name);b=b[1];var m=c("useCowatchNotifications")(),n=d("Recoil").useSetRecoilState(c("CowatchAtoms").cowatchClosedByUserAtom),o=d("ZenonActorHooks").useZenonActor(),p=o[0];h(function(){if(k==null||k.actor.user_id===p||(e==null?void 0:e.id)!==k.content_id)return;var b=g.subscribe(function(){var b=g.getCurrentState(),c=k.action_metadata.action_time_ms;if(l.current!==c){k.action_metadata.autoplay_action_id==null&&m(k==null?void 0:k.admin_message,k==null?void 0:k.actor.avatar_url);l.current=c;switch(k.action){case d("MediaSyncState").Actions.PLAY:g.seek(j(k));b.paused&&g.play("other_user_initiated");break;case d("MediaSyncState").Actions.PAUSE:b.paused||g.pause("other_user_initiated");g.seek(Number(k.action_metadata.media_position_ms)/1e3);break;case d("MediaSyncState").Actions.STOP:a(null);f(null);n(!0);break}}});return function(){return b.remove()}},[p,g,f,m,k,b,e,a,n])},m=function(){var a=c("useMediaSyncAutoplayOutputState")(),b=d("Recoil").useSetRecoilState(c("CowatchAtoms").nextVideoAtom),e=d("Recoil").useRecoilState(c("CowatchAtoms").autoplayActionIDAtom),f=e[0],g=e[1],i=d("Recoil").useSetRecoilState(c("CowatchAtoms").autoplayCountdownMsAtom),j=d("Recoil").useSetRecoilState(c("CowatchAtoms").isAutoplayShownAtom),k=d("CowatchLoggingHooks").useLogMnCowatchRtcEvent(),l=c("ZenonCallsHooks").useServerInfoData();h(function(){var c=a==null?void 0:a.autoplay;if(c==null){j(!1);return}switch(c.display_state){case d("MediaSyncAutoplayState").DisplayStates.COUNTDOWN:if(f!==c.action_id){var e;g(c.action_id);b({id:c.content_id,subtitle:(e=(e=c.content.fb_video)==null?void 0:e.subtitle)!=null?e:"",thumbnailUrl:(e=(e=c.content.fb_video)==null?void 0:(e=e.thumbnail)==null?void 0:e.url)!=null?e:"",title:(e=(e=c.content.fb_video)==null?void 0:e.title)!=null?e:""});i({durationMs:Number(c.preview_duration_ms),explicitStartTime:null});k("autoplay_queued",{cowatchSessionID:(e=l)!=null?e:void 0,videoID:c.content_id})}break;case d("MediaSyncAutoplayState").DisplayStates.CANCELED:j(!1),k("autoplay_cancelled",{cowatchSessionID:(e=l)!=null?e:void 0,videoID:c.content_id})}},[f,a,k,l,g,i,j,b])};e=function(){m(),k(),l()};g.getPlayingSeekTime=j;g.usePlayNewVideoListener=b;g.useStateSyncListeners=e}),98);
__d("CowatchCenteredSpinner.react",["MessengerSpinner.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.xstyle;return h.jsx("div",{className:c("stylex")([i.root,a]),children:h.jsx(c("MessengerSpinner.react"),{})})}a.displayName=a.name+" [from "+f.id+"]";var i={root:{alignItems:"sd0tyowg",display:"foed1vyy",flexDirection:"t7elcel3",justifyContent:"ocjcko58"}};g["default"]=a}),98);
__d("CowatchHeaderButtonTooltip.react",["fbt","ix","Locale","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useRef;function a(a){var b,e=a.calloutRef,f=a.setClosed,g=a.text;a=a.title;var l=k(),m=function(a){a.stopPropagation(),f(!0)};e=((e=e.current)==null?void 0:e.offsetLeft)||0;b=((b=l.current)==null?void 0:b.offsetWidth)||0;e=d("Locale").isRTL()?{left:e-27}:{left:67+e-b};return j.jsxs("div",{className:"q6s8qwta alrytcbg ehi1kzmu ak9allyy fk8bji45 shsostf3 qkp8d00x foed1vyy do5ynftk bb50dua7 l1er3j58 f939mx11 pkjc7ruz sd0tyowg",ref:l,style:e,children:[j.jsxs("div",{className:"ma8itso7",children:[j.jsx("div",{className:"ah27w7js kse9jm3s a5ekxj8m ej2n0i4l dyco0h0g",children:a}),j.jsx("div",{className:"ah27w7js kse9jm3s kcng2kxf cc49qmsi ej2n0i4l dyco0h0g",children:g})]}),j.jsx("div",{className:"fbttax1d",children:j.jsx(c("TetraIcon.react"),{"aria-label":h._("Close"),color:"white",icon:d("fbicon")._(i("478232"),16),onPress:function(a){return m(a)},size:16})}),j.jsx("div",{className:"aeg9wcf4 hl4riwos r4196d7g alrytcbg a32mxtib i668rgvh pkjc7ruz",style:{borderTopLeftRadius:"30%"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CowatchHeaderButtonNux.react",["fbt","BasicFBNux","CowatchHeaderButtonTooltip.react","MessengerCowatch","OnVisible.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Watch videos, TV shows and films together."),k=h._("Try Watch Together");function a(a){var b=a.calloutRef,e=a.closed;a=a.setClosed;return e||c("MessengerCowatch").www_tooltip_nux_should_show!==!0?null:i.jsx(c("OnVisible.react"),{onVisible:function(){c("MessengerCowatch").www_tooltip_nux_has_shown||(c("MessengerCowatch").www_tooltip_nux_has_shown=!0,d("BasicFBNux").onView(c("MessengerCowatch").www_tooltip_nux_id))},children:i.jsx(c("CowatchHeaderButtonTooltip.react"),{calloutRef:b,setClosed:a,text:j,title:k})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CowatchLivingRoomRoot.react",["CometPlaceholder.react","CometProgressRingIndeterminate.react","CowatchProtocol","CowatchProtocolContext","CowatchRootContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx(c("CowatchProtocolContext").Provider,{value:c("CowatchProtocol").LIVING_ROOM,children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"light",size:72}),children:h.jsx(c("CowatchRootContainer.react"),{})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CowatchIcon.react",["ZenonOptionalDropShadowFilter.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.className,d=a.shadow;a=a.width;return h.jsx("svg",{className:b,viewBox:"0 0 22 19",width:(b=a)!=null?b:22,children:h.jsx(c("ZenonOptionalDropShadowFilter.react"),{height:(b=a)!=null?b:22,shadow:(b=d)!=null?b:!1,width:(d=a)!=null?d:22,children:h.jsx("path",{d:"M19.555 14.444H2.445c-.86 0-1.556-.696-1.556-1.555V2c0-.86.696-1.556 1.555-1.556h17.111c.86 0 1.556.697 1.556 1.556v10.889c0 .86-.696 1.556-1.556 1.556zM7.89 4.524v5.841c0 .432.45.712.836.517l5.84-2.92a.577.577 0 0 0 0-1.035l-5.84-2.92a.576.576 0 0 0-.836.517zM6.722 16h8.556c.645 0 1.166.521 1.166 1.167 0 .645-.52 1.166-1.166 1.166H6.722a1.165 1.165 0 0 1-1.167-1.166c0-.646.521-1.167 1.167-1.167z"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CowatchM4ButtonIcon.react",["CowatchIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"ocjcko58 foed1vyy sd0tyowg",children:h.jsx(c("CowatchIcon.react"),{className:"f6f2gd0j hz965sd9 ec13zmym qukc8cf6"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CowatchMeetupButtonIcon.react",["CowatchIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"ph13mdh2 lqo7yh2p ocjcko58 t1avcer6 foed1vyy fcqeik31 h6hzo99s a83566g4 aew9upud sd0tyowg",children:h.jsx(c("CowatchIcon.react"),{className:"hz965sd9 ri7cljcl qukc8cf6"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCowatchMeetupRouteManager",["CowatchAtoms","CowatchMeetupRoute","CowatchRTRoute","CowatchStateSyncActions","Recoil","ZenonCallsContext","ZenonInCallDefaultRoute","ZenonInCallRouterHooks","ZenonInCallRouterState","ZenonInCallRouterTypes","react","useMediaSyncOutputState"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect,j=b.useRef,k=[c("CowatchMeetupRoute").name,c("CowatchRTRoute").name,c("ZenonInCallDefaultRoute").name];function a(){var a=d("Recoil").useRecoilValue(c("CowatchAtoms").cowatchSessionIDAtom),b=j(a),e=d("Recoil").useRecoilState(c("CowatchAtoms").cowatchClosedByUserAtom),f=e[0],g=e[1];e=d("ZenonInCallRouterHooks").useSupportedRoute(c("ZenonInCallDefaultRoute").name);e[0];var l=e[1];e=d("ZenonInCallRouterHooks").useSupportedRoute(c("CowatchMeetupRoute").name);var m=e[0],n=e[1];i(function(){a==null&&m&&f&&l?(g(!1),l()):b.current==null&&a!=null&&!m&&n!=null&&n(),b.current=a},[f,a,m,g,n,l]);var o=d("Recoil").useRecoilValue(d("ZenonInCallRouterState").transition);e=h(c("ZenonCallsContext"));var p=e.callSDK,q=e.currentClientCallId,r=d("Recoil").useRecoilValue(c("CowatchAtoms").cowatchVideoAtom),s=c("useMediaSyncOutputState")();i(function(){if(o!=null){var a=o.route,b=o.trigger;a=!k.includes(a)&&b===d("ZenonInCallRouterTypes").RouteChangeTrigger.User;a&&d("CowatchStateSyncActions").stopVideo(p,q,r,s==null?void 0:s.action_metadata.tab_source)}},[p,r,q,s==null?void 0:s.action_metadata.tab_source,o])}g["default"]=a}),98);
__d("CowatchQPLLogger",["$InternalEnum","QPLEvent","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({START:"start",END:"end"}),i=b("$InternalEnum")({TABS_LOAD:"TABS_LOAD_WWW",FIRST_CONTENT_LOAD:"FIRST_CONTENT_LOAD_WWW",USER_INTERACTION_CONTENT_LOAD:"USER_INTERACTION_CONTENT_LOAD_WWW",CONTENT_LOAD:"content_load",PLAY_CONTENT:"PLAY_CONTENT_WWW"});a=function(){function a(){}a.getCowatchQPLLoggerInstance=function(){a.$1===null&&(a.$1=new a());return a.$1};var b=a.prototype;b.logCowatchQPLEvent=function(a){switch(a.logType){case h.START:this.$2(a);break;case h.END:this.$3(a);break}};b.$2=function(a){switch(a.logName){case i.TABS_LOAD:c("QuickPerformanceLogger").markerStart(c("qpl")._(38209779,"5859"));break;case i.FIRST_CONTENT_LOAD:c("QuickPerformanceLogger").markerStart(c("qpl")._(38212473,"297"));break;case i.USER_INTERACTION_CONTENT_LOAD:var b,e;b=(b=(b=c("QuickPerformanceLogger").activeMarkers.get(d("QPLEvent").getMarkerId(c("qpl")._(38212473,"297"))))==null?void 0:b.size)!=null?b:0;e=(e=(e=c("QuickPerformanceLogger").activeMarkers.get(d("QPLEvent").getMarkerId(c("qpl")._(38212112,"4874"))))==null?void 0:e.size)!=null?e:0;if(b>0){b=a.tabName!=null?"Clicked "+a.tabName+" while loading initial content":"Clicked tab while loading initial content";c("QuickPerformanceLogger").markerAnnotate(c("qpl")._(38212473,"297"),{string:{annotation:b}})}else e===0&&c("QuickPerformanceLogger").markerStart(c("qpl")._(38212112,"4874"));break;case i.PLAY_CONTENT:c("QuickPerformanceLogger").markerStart(c("qpl")._(38220042,"3452"));break;case i.CONTENT_LOAD:break}};b.$3=function(a){switch(a.logName){case i.TABS_LOAD:c("QuickPerformanceLogger").markerEnd(c("qpl")._(38209779,"5859"),2);break;case i.CONTENT_LOAD:var b;a=(a=(a=c("QuickPerformanceLogger").activeMarkers.get(d("QPLEvent").getMarkerId(c("qpl")._(38212473,"297"))))==null?void 0:a.size)!=null?a:0;b=(b=(b=c("QuickPerformanceLogger").activeMarkers.get(d("QPLEvent").getMarkerId(c("qpl")._(38212112,"4874"))))==null?void 0:b.size)!=null?b:0;a===0&&b>0?c("QuickPerformanceLogger").markerEnd(c("qpl")._(38212112,"4874"),2):c("QuickPerformanceLogger").markerEnd(c("qpl")._(38212473,"297"),2);break;case i.PLAY_CONTENT:a=(b=(a=c("QuickPerformanceLogger").activeMarkers.get(d("QPLEvent").getMarkerId(c("qpl")._(38220042,"3452"))))==null?void 0:a.size)!=null?b:0;a>0&&c("QuickPerformanceLogger").markerEnd(c("qpl")._(38220042,"3452"),2);break;case i.FIRST_CONTENT_LOAD:break;case i.USER_INTERACTION_CONTENT_LOAD:break}};return a}();a.$1=null;g.CowatchQPLLoggerLogTypes=h;g.CowatchQPLLoggerLogNames=i;g.CowatchQPLLogger=a}),98);
__d("CowatchSidePanel.react",["fbt","CoExSlidingTray.react","CowatchAtoms","CowatchCenteredSpinner.react","CowatchConstants","FocusRegion.react","JSResourceForInteraction","Recoil","RelayFBEnvironment","RelayHooks","ZenonActorProvider.react","ZenonThreadHooks","focusScopeQueries","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("CowatchSidePanelBodyContainer.react").__setRef("CowatchSidePanel.react"));function a(a){a=a.onClose;var b=d("ZenonThreadHooks").useThreadFBID(),e=d("Recoil").useRecoilState(c("CowatchAtoms").sidePanelNavigationStackAtom),f=e[0],g=e[1];e=j(!1);var l=e[0];e=e[1];var m=function(){return g(f.slice(0,-1))};return i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:i.jsx(c("CoExSlidingTray.react"),{"data-testid":void 0,onBack:m,onClose:a,onScrollEndChange:e,showBackButton:f.length>0,title:h._("Watch together"),width:c("CowatchConstants").SIDE_PANEL_WIDTH,children:i.jsx(d("RelayHooks").RelayEnvironmentProvider,{environment:c("RelayFBEnvironment"),children:i.jsx(c("ZenonActorProvider.react"),{children:i.jsx(i.Suspense,{fallback:i.jsx(c("CowatchCenteredSpinner.react"),{}),children:i.jsx(k,{isScrolledToEnd:l,threadID:b})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCowatchOpenSidePanel",["CowatchLoggingHooks","CowatchProtocolContext","CowatchQPLLogger","CowatchSidePanel.react","ZenonDialogContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext;function a(a){var b=j(c("ZenonDialogContext")),e=b.hide,f=b.show,g=d("CowatchLoggingHooks").useLogMnCowatchRtcEvent(a);return i(function(){g("amd_launched",{source:"entry_point"});var b=d("CowatchQPLLogger").CowatchQPLLogger.getCowatchQPLLoggerInstance();b.logCowatchQPLEvent({logName:d("CowatchQPLLogger").CowatchQPLLoggerLogNames.TABS_LOAD,logType:d("CowatchQPLLogger").CowatchQPLLoggerLogTypes.START});f(h.jsx(c("CowatchProtocolContext").Provider,{value:a,children:h.jsx(c("CowatchSidePanel.react"),{onClose:e})}))},[a,e,g,f])}g["default"]=a}),98);
__d("useCowatchHeaderButtonProps",["CowatchHeaderButtonNux.react","CowatchM4ButtonIcon.react","CowatchMeetupButtonIcon.react","CowatchProtocol","MessengerCowatch","ZenonNavLinkPluginRenderLocation","react","useCowatchHeaderNavLinkBase"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useRef,j=b.useState;function a(a){var b=j(!1),e=b[0],f=b[1];b=i();var g=!e&&d("MessengerCowatch").www_tooltip_nux_should_show===!0,l=c("useCowatchHeaderNavLinkBase")({renderLocation:c("ZenonNavLinkPluginRenderLocation").TOP_LEVEL},a),m=l.childrenPleaseDontUse,n=l.label,o=l.onPress;l=l.testid;l=l===void 0?"":l;var p=function(){f(!0),o()};return{children:h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:b,children:k(a)},"icon"),h.jsx(c("CowatchHeaderButtonNux.react"),{calloutRef:b,closed:e,setClosed:f},"nux"),m!=null?m:null]}),"data-testid":l,label:n,onClick:p,suppressTooltip:g,themeClassNames:"dyco0h0g klfiew36 ndb5vzhq kvab5o0p"}}function k(a){switch(a){case c("CowatchProtocol").LIVING_ROOM:return h.jsx(c("CowatchM4ButtonIcon.react"),{});case c("CowatchProtocol").STATE_SYNC:return h.jsx(c("CowatchMeetupButtonIcon.react"),{})}}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCowatchRTProtocol",["CowatchProtocol","ZenonCallsContext","err","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("ZenonCallsContext")),b=a.callSDK;a=a.currentClientCallId;b=b.getCallProtocolType_DEPRECATED(a);switch(b){case null:case"p2p":return c("CowatchProtocol").LIVING_ROOM;case"multiway":return c("gkx")("1108")?c("CowatchProtocol").STATE_SYNC:c("CowatchProtocol").LIVING_ROOM;default:b;throw c("err")("Unhandled protocol: "+b)}}g["default"]=a}),98);
__d("CowatchRTHeaderButton.react",["CowatchRTHeaderButton_app.graphql","ZenonCallsHooks","ZenonHeaderButton.react","react","useCowatchHeaderButtonProps","useCowatchRTProtocol"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");h!==void 0?h:h=b("CowatchRTHeaderButton_app.graphql");function a(){var a=c("useCowatchRTProtocol")();a=c("useCowatchHeaderButtonProps")(a);return c("ZenonCallsHooks").useConnectedRemoteUserCount()>0?i.jsx(c("ZenonHeaderButton.react"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CowatchRTRoot.react",["CowatchProtocol","deferredLoadComponent","react","requireDeferred","useCowatchRTProtocol"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("CowatchLivingRoomRoot.react").__setRef("CowatchRTRoot.react"),j=c("requireDeferred")("CowatchStateSyncRoot.react").__setRef("CowatchRTRoot.react");function a(){var a=c("useCowatchRTProtocol")();switch(a){case c("CowatchProtocol").LIVING_ROOM:a=c("deferredLoadComponent")(i);return h.jsx(a,{});case c("CowatchProtocol").STATE_SYNC:a=c("deferredLoadComponent")(j);return h.jsx(a,{})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CowatchAutoplaySubscription",["CometRelay","CowatchAtoms","CowatchAutoplaySubscription.graphql","CowatchLoggingHooks","Recoil","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("CowatchAutoplaySubscription.graphql");function a(){var a=d("Recoil").useSetRecoilState(c("CowatchAtoms").nextVideoAtom),b=d("Recoil").useSetRecoilState(c("CowatchAtoms").autoplayCountdownMsAtom),e=d("Recoil").useSetRecoilState(c("CowatchAtoms").autoplayActionIDAtom),f=d("CometRelay").useRelayEnvironment(),g=d("Recoil").useSetRecoilState(c("CowatchAtoms").autoplayDisplayStateAtom),h=d("CowatchLoggingHooks").useLogMnCowatchRtcEvent(),k=d("Recoil").useSetRecoilState(c("CowatchAtoms").isAutoplayShownAtom);return i(function(c){if(c==null)return;var i={input:{session_id:c}};return d("CometRelay").requestSubscription(f,{onNext:function(d){d=(d=d==null?void 0:(d=d.messenger_cowatch_autoplay_subscribe)==null?void 0:d.autoplay_state)!=null?d:{};var f=d.autoplay_action_id,i=d.autoplay_display_state,j=d.autoplay_video;d=d.preview_duration_ms;var l=j==null?void 0:j.id;if(j!=null&&l!=null&&d!=null&&f!=null&&i!=null){var m;m={id:l,subtitle:(m=j==null?void 0:(m=j.message)==null?void 0:m.text)!=null?m:"",thumbnailUrl:(m=j==null?void 0:(m=j.preferred_thumbnail)==null?void 0:(m=m.image)==null?void 0:m.uri)!=null?m:"",title:(m=j==null?void 0:(m=j.title)==null?void 0:m.text)!=null?m:""};a(m);b({durationMs:d,explicitStartTime:null});e(f);g(i);switch(i){case"CANCELLED":k(!1);h("autoplay_cancelled",{cowatchSessionID:c,videoID:l});break;case"COUNTDOWN":h("autoplay_queued",{cowatchSessionID:c,videoID:l});break;default:i}}else j==null&&a(null)},subscription:j,variables:i})},[f,h,e,b,g,k,a])}g.useCowatchAutoplaySubscription=a}),98);
__d("CowatchLivingRoomUpdateSubscription",["CometRelay","CowatchAtoms","CowatchLivingRoomUpdateSubscription.graphql","CowatchLoggingHooks","Recoil","ZenonActorHooks","ZenonThreadHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("CowatchLivingRoomUpdateSubscription.graphql");function a(){var a=d("Recoil").useSetRecoilState(c("CowatchAtoms").cowatchSessionIDAtom),b=d("Recoil").useSetRecoilState(c("CowatchAtoms").cowatchVideoAtom),e=d("Recoil").useResetRecoilState(c("CowatchAtoms").cowatchVideoAtom),f=d("Recoil").useSetRecoilState(c("CowatchAtoms").isSelectAnotherShownAtom),g=d("CometRelay").useRelayEnvironment(),h=d("CowatchLoggingHooks").useLogMnCowatchRtcEvent(),k=d("ZenonThreadHooks").useThreadFBID();return i(function(){var c={input:{viewer_id:d("ZenonActorHooks").ZenonActor.getAccountID()}};return d("CometRelay").requestSubscription(g,{onNext:function(c){c=c==null?void 0:c.messenger_living_room_update_subscribe;c=(c=c)!=null?c:{};var d=c.living_room,g=c.living_room_event;c=c.thread_id;if(c!==k)return;if(g==="END")a(null),f(!1),e();else{c=d==null?void 0:d.id;g=d==null?void 0:(g=d.video_state)==null?void 0:(g=g.content_item)==null?void 0:g.video;if(c!=null){a(c);h("cowatch_joined_on_client",{cowatchSessionID:c,source:"full_screen_landscape"});b({id:(c=g==null?void 0:g.id)!=null?c:"",isNonInteractable:(d=d==null?void 0:(c=d.video_state)==null?void 0:c.is_non_interactable)!=null?d:!1,subtitle:(d=g==null?void 0:(c=g.message)==null?void 0:c.text)!=null?d:"",title:(d=g==null?void 0:(c=g.title)==null?void 0:c.text)!=null?d:""})}}},subscription:j,variables:c})},[g,h,e,a,b,k])}g.useCowatchLivingRoomUpdateSubscription=a}),98);
__d("CowatchOngoingLivingRoomQuery",["CometRelay","CowatchOngoingLivingRoomQuery.graphql","CowatchOngoingLivingRoomQuery_livingRoom.graphql","ZenonThreadHooks"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("CowatchOngoingLivingRoomQuery.graphql");function k(){var a=d("ZenonThreadHooks").useThreadFBID();a=d("CometRelay").useLazyLoadQuery(j,{threadID:a});a=d("CometRelay").useFragment(i!==void 0?i:i=b("CowatchOngoingLivingRoomQuery_livingRoom.graphql"),a==null?void 0:a.ongoing_messenger_living_room);return a}function a(){var a=k();return a==null?void 0:a.id}g.useCowatchOngoingLivingRoomID=a}),98);
__d("CowatchVideoStateUpdateSubscription",["CometRelay","CowatchAtoms","CowatchLoggingHooks","CowatchVideoStateUpdateSubscription.graphql","Recoil","ZenonActorHooks","react","useCowatchNotifications"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useCallback,j=e.useRef,k=h!==void 0?h:h=b("CowatchVideoStateUpdateSubscription.graphql");function a(){var a=d("Recoil").useSetRecoilState(c("CowatchAtoms").cowatchVideoAtom),b=d("Recoil").useSetRecoilState(c("CowatchAtoms").mediaTimestampSecAtom),e=d("Recoil").useSetRecoilState(c("CowatchAtoms").actionTimestampSecAtom),f=d("Recoil").useSetRecoilState(c("CowatchAtoms").currentServerTimestampSecAtom),g=d("Recoil").useSetRecoilState(c("CowatchAtoms").videoEventAtom),h=d("Recoil").useSetRecoilState(c("CowatchAtoms").cowatchVideoTabSourceAtom),l=d("Recoil").useSetRecoilState(c("CowatchAtoms").videoPlayerStateAtom),m=d("Recoil").useSetRecoilState(c("CowatchAtoms").isAutoplayShownAtom),n=d("Recoil").useSetRecoilState(c("CowatchAtoms").isSelectAnotherShownAtom),o=d("CometRelay").useRelayEnvironment(),p=c("useCowatchNotifications")(),q=j(!0),r=d("Recoil").useSetRecoilState(c("CowatchAtoms").shouldRestartLocalVideoAtom),s=j(!1),t=j(null),u=d("CowatchLoggingHooks").useLogMnCowatchRtcEvent();return i(function(c){if(c==null)return;var i={input:{session_id:c}};return d("CometRelay").requestSubscription(o,{onNext:function(i){var j,k;j=i==null?void 0:(j=i.messenger_cowatch_active_media_state_update_subscribe)==null?void 0:j.video_state;k=i==null?void 0:(k=i.messenger_cowatch_active_media_state_update_subscribe)==null?void 0:(k=k.message)==null?void 0:k.text;if(j==null)return;var o=j.action_id,v=j.actor,w=j.content_item,x=j.current_server_timestamp,y=j.event_logged_timestamp,z=j.marker_offset_seconds,A=j.video_event;j=j.video_player_state;w=w==null?void 0:w.video;var B=v==null?void 0:v.id;switch(A){case"SESSION_END":s.current=!0;break;case"PLAY_DIRECT":case"PLAY_AUTO_PLAYED_VIDEO":s.current=!1;break}if(w!=null||!s.current){var C;a({contentRating:w==null?void 0:w.cowatch_content_rating_text,id:(C=w==null?void 0:w.id)!=null?C:"",isNonInteractable:(C=i==null?void 0:(C=i.messenger_cowatch_active_media_state_update_subscribe)==null?void 0:(C=C.video_state)==null?void 0:C.is_non_interactable)!=null?C:!1,subtitle:(C=w==null?void 0:(C=w.message)==null?void 0:C.text)!=null?C:"",title:(C=w==null?void 0:(C=w.title)==null?void 0:C.text)!=null?C:""});if((i==null?void 0:(C=i.messenger_cowatch_active_media_state_update_subscribe)==null?void 0:(C=C.video_state)==null?void 0:C.is_non_interactable)===!0){u("cowatch_bumper_ad_played",{cowatchSessionID:c,source:"PMV",videoID:(C=w==null?void 0:w.id)!=null?C:""})}}h(i==null?void 0:(w=i.messenger_cowatch_active_media_state_update_subscribe)==null?void 0:w.tab_source);(B!==d("ZenonActorHooks").ZenonActor.getAccountID()||q.current)&&(q.current&&(q.current=!1),z!=null&&b(z),A!=null&&g(A),j!=null&&l(j),y!=null&&x!=null&&(e(y),f(x)),z!=null&&z<=1e-5&&A==="PLAY_DIRECT"&&r(!0),m(!1),n(!1));if(k!=null&&t.current!==o){p(k,A==="PLAY_AUTO_PLAYED_VIDEO"?null:v==null?void 0:(C=v.profile_picture)==null?void 0:C.uri)}t.current=o},subscription:k,variables:i})},[o,u,e,a,f,m,n,b,r,g,l,p])}g.useCowatchVideoStateUpdateSubscription=a}),98);
__d("useCowatchRTEndSessionNotification",["fbt","CowatchAtoms","Recoil","react","useCowatchNotifications"],(function(a,b,c,d,e,f,g,h){"use strict";b=d("react");var i=b.useEffect,j=b.useRef,k=h._("Video closed");function a(){var a=c("useCowatchNotifications")(),b=d("Recoil").useRecoilValue(c("CowatchAtoms").cowatchSessionIDAtom),e=d("Recoil").useRecoilState(c("CowatchAtoms").initiatedEndSessionAtom),f=e[0],g=e[1],h=j(null);i(function(){b==null&&h.current!=null&&(f||a(k,null),g(!1)),h.current=b},[b,f,g,a])}g["default"]=a}),98);
__d("useLogCowatchEndCall",["CowatchAtoms","CowatchLoggingHooks","Recoil","ZenonCallsHooks","react","useEffectOnce"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef;function a(a){var b=d("CowatchLoggingHooks").useLogMnCowatchRtcEvent(a);a=d("Recoil").useRecoilValue(c("CowatchAtoms").cowatchSessionIDAtom);var e=c("ZenonCallsHooks").useOnCallEnded(),f=h(a);f.current=a;c("useEffectOnce")(function(){e(function(){f.current!=null&&b("cowatch_closed_on_client",{cowatchSessionID:f.current,source:"end_call"})})})}g["default"]=a}),98);
__d("CowatchLivingRoomDataProvider.react",["CometPlaceholder.react","CowatchAtoms","CowatchAutoplaySubscription","CowatchLivingRoomUpdateSubscription","CowatchOngoingLivingRoomQuery","CowatchProtocol","CowatchRTRoute","CowatchVideoStateUpdateSubscription","Recoil","RelayFBEnvironment","RelayHooks","ZenonActorProvider.react","ZenonInCallDefaultRoute","ZenonInCallRouterHooks","react","useCowatchRTEndSessionNotification","useLogCowatchEndCall"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef;function a(){return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("RelayHooks").RelayEnvironmentProvider,{environment:c("RelayFBEnvironment"),children:h.jsx(c("ZenonActorProvider.react"),{children:h.jsx(k,{})})})})}a.displayName=a.name+" [from "+f.id+"]";function k(){var a=d("Recoil").useSetRecoilState(c("CowatchAtoms").cowatchSessionIDAtom),b=d("CowatchOngoingLivingRoomQuery").useCowatchOngoingLivingRoomID(),e=j(!0);i(function(){e.current&&b!=null&&(a(b),e.current=!1)},[b,a]);return h.jsx(l,{})}k.displayName=k.name+" [from "+f.id+"]";function l(){var a=d("Recoil").useRecoilValue(c("CowatchAtoms").cowatchSessionIDAtom),b=d("CowatchLivingRoomUpdateSubscription").useCowatchLivingRoomUpdateSubscription(),e=d("CowatchVideoStateUpdateSubscription").useCowatchVideoStateUpdateSubscription(),f=d("CowatchAutoplaySubscription").useCowatchAutoplaySubscription(),g=d("ZenonInCallRouterHooks").useSupportedRoute(c("CowatchRTRoute").name),h=g[0],j=g[1];g=d("ZenonInCallRouterHooks").useSupportedRoute(c("ZenonInCallDefaultRoute").name);g[0];var k=g[1];c("useLogCowatchEndCall")(c("CowatchProtocol").LIVING_ROOM);i(function(){a==null&&h&&k?k():a!=null&&!h&&j!=null&&j()},[a,h,k,j]);i(function(){var a=b();return function(){a.dispose()}},[b]);i(function(){var b=e(a),c=f(a);return function(){b!=null&&b.dispose(),c!=null&&c.dispose()}},[f,a,e]);c("useCowatchRTEndSessionNotification")();return null}g["default"]=a}),98);
__d("CowatchRTDataProvider.react",["CowatchProtocol","CowatchRTDataProvider_app.graphql","deferredLoadComponent","react","requireDeferred","useCowatchRTProtocol"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("requireDeferred")("CowatchLivingRoomDataProvider.react").__setRef("CowatchRTDataProvider.react"),k=c("requireDeferred")("CowatchStateSyncDataProvider.react").__setRef("CowatchRTDataProvider.react");h!==void 0?h:h=b("CowatchRTDataProvider_app.graphql");function a(){var a=c("useCowatchRTProtocol")();switch(a){case c("CowatchProtocol").LIVING_ROOM:a=c("deferredLoadComponent")(j);return i.jsx(a,{});case c("CowatchProtocol").STATE_SYNC:a=c("deferredLoadComponent")(k);return i.jsx(a,{})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCowatchUnavailabilityNotification",["fbt","CowatchIcon.react","ZenonNotificationHooks","ZenonTransientNotification.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(){var a=d("ZenonNotificationHooks").usePushZenonNotification();return j(function(){a(function(a){return i.jsx(c("ZenonTransientNotification.react"),{icon:i.jsx("div",{className:c("stylex")(k.notificationIcon),children:i.jsx(c("CowatchIcon.react"),{width:18})}),onDismiss:a,text:l},"cowatch_unavailability")})},[a])}var k={notificationBody:{fontSize:"ej2n0i4l",marginTop:"my1ysudc"},notificationIcon:{alignItems:"sd0tyowg",backgroundColor:"np6mznyx",borderTopStartRadius:"aew9upud",borderTopEndRadius:"a83566g4",borderBottomEndRadius:"h6hzo99s",borderBottomStartRadius:"fcqeik31",display:"foed1vyy",height:"t1avcer6",justifyContent:"ocjcko58",width:"lqo7yh2p"},notificationTitle:{fontSize:"ej2n0i4l",fontWeight:"sinu63va"}},l=h._("{Notification text}",[h._param("Notification text",i.jsxs("span",{children:[i.jsx("div",{className:c("stylex")(k.notificationTitle),children:h._("Watch Together not available")}),i.jsx("div",{className:c("stylex")(k.notificationBody),children:h._("The feature is not available to all users at this time.")})]}))]);g["default"]=a}),98);
__d("CowatchStateSyncDataProvider.react",["CowatchStateSyncDataProvider_effect.graphql","MediaSyncState","ZenonCallsContext","ZenonCallsHooks","ZenonCallsModelTypes","gkx","react","setImmediate","useCowatchUnavailabilityNotification","useMediaSyncOutputState"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useContext,j=e.useEffect,k=e.useRef;h!==void 0?h:h=b("CowatchStateSyncDataProvider_effect.graphql");function a(){var a=c("ZenonCallsHooks").useCallState(),b=i(c("ZenonCallsContext")),e=b.callSDK,f=b.currentClientCallId;j(function(){a===d("ZenonCallsModelTypes").ZenonCallState.Connected&&c("setImmediate")(function(){e.subscribeToStateSyncTopic(f,"media_sync"),e.subscribeToStateSyncTopic(f,"media_sync_autoplay")})},[a,e,f]);var g=c("useCowatchUnavailabilityNotification")(),h=c("useMediaSyncOutputState")(),l=k(!1);j(function(){var a=h!=null&&h.action!=null&&h.action!==d("MediaSyncState").Actions.STOP,b=c("gkx")("1960272");!l.current&&a&&!b&&(l.current=!0,g())},[h,g]);return null}g["default"]=a}),98);
__d("CowatchRTDataProviderPlugin",["CowatchErrorBoundaryProject","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("CowatchRTDataProvider.react").__setRef("CowatchRTDataProviderPlugin");b={errorBoundaryProject:c("CowatchErrorBoundaryProject"),impl:{component:a,type:"deferred"},key:"cowatchRTDataProvider"};d=b;g["default"]=d}),98);
__d("CowatchRTNavLinkPlugin",["CowatchErrorBoundaryProject","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("CowatchRTHeaderButton.react").__setRef("CowatchRTNavLinkPlugin");b=c("requireDeferred")("useCowatchRTNavLinkHook").__setRef("CowatchRTNavLinkPlugin");d={errorBoundaryProject:c("CowatchErrorBoundaryProject"),hookImpl:{hook:b,type:"deferred"},impl:{component:a,type:"deferred"},key:"cowatchRTNavLink"};e=d;g["default"]=e}),98);
__d("VideoStallConstants",[],(function(a,b,c,d,e,f){"use strict";a="videoStalled";b="mute";c="ended";d="unmute";e=10;f.VIDEO_STALLED_EVENT=a;f.MUTE_EVENT=b;f.ENDED_EVENT=c;f.UNMUTE_EVENT=d;f.MAX_STALL_RECOVERY_TRIES=e}),66);
__d("VideoStallDetector",["EventEmitter","MediaDeviceChangeUtils","VideoStallConstants","ZenonMediaActionLogger","ZenonMediaDevicesUtils","ZenonMediaTypes"],(function(a,b,c,d,e,f,g){"use strict";var h="[video stall detector]",i="VideoStallDetector";function j(a,b){var c=d("MediaDeviceChangeUtils").getMediaTrackDeviceId(a);return b.find(function(a){return a.id===c})!=null}function k(a){return(a=a==null?void 0:a.webrtcTrack.getSettings==null?void 0:a.webrtcTrack.getSettings().groupId)!=null?a:null}function l(a,b){var c=d("MediaDeviceChangeUtils").getMediaTrackDeviceId(a);if(c===d("MediaDeviceChangeUtils").CHROMIUM_BROWSER_DEFAULT_ID){c=b.find(function(a){return a.kind===d("ZenonMediaTypes").VIDEO_INPUT_DEVICE_KIND&&a.id===d("MediaDeviceChangeUtils").CHROMIUM_BROWSER_DEFAULT_ID});if(c!=null)return c.groupId!==k(a)}return!1}function m(a){var b=a.checkpoint,d=a.error;a=a.mediaID;c("ZenonMediaActionLogger").logEvent({checkpoint:b!=null?h+" "+b:null,errorDomain:d?i:null,errorType:d?d.message:null,mediaID:a})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$VideoStallDetector1=null,c.$VideoStallDetector2=function(a){var b=a.type;d("ZenonMediaDevicesUtils").enumerateDevices().then(function(a){var e=c.$VideoStallDetector1;if(e==null)return;if(!j(e,a)&&b===d("VideoStallConstants").ENDED_EVENT)return;if(l(e,a))return;m({checkpoint:"Video stall detected due to "+b+" track",mediaID:e.trackId});c.emit(d("VideoStallConstants").VIDEO_STALLED_EVENT,!0)})["catch"](function(a){m({error:a})})},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.start=function(a){var b=this;this.$VideoStallDetector1=a;if(this.$VideoStallDetector1==null)return;[d("VideoStallConstants").ENDED_EVENT,d("VideoStallConstants").MUTE_EVENT,d("VideoStallConstants").UNMUTE_EVENT].forEach(function(a){var c;return(c=b.$VideoStallDetector1)==null?void 0:c.webrtcTrack.addEventListener(a,b.$VideoStallDetector2)})};c.stop=function(){var a=this;if(this.$VideoStallDetector1==null)return;[d("VideoStallConstants").ENDED_EVENT,d("VideoStallConstants").MUTE_EVENT,d("VideoStallConstants").UNMUTE_EVENT].forEach(function(b){var c;return(c=a.$VideoStallDetector1)==null?void 0:c.webrtcTrack.removeEventListener(b,a.$VideoStallDetector2)});this.$VideoStallDetector1=null};return b}(c("EventEmitter"));b=new a();g["default"]=b}),98);
__d("VideoStallRecoveryHooks",["VideoStallConstants","VideoStallDetector","ZenonCallsHooks","ZenonCallsModelTypes","ZenonMediaActionLogger","ZenonMediaDevicesHooks","ZenonSettingsHooks","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j="VideoStallRecovery";function a(){var a=i(!1),b=a[0],e=a[1],f=c("ZenonCallsHooks").useLocalVideo(),g=c("ZenonCallsHooks").useCallState(),k=((a=c("ZenonCallsHooks").useLocalScreen())==null?void 0:a.enabled)===!0;a=d("ZenonSettingsHooks").useDevices();var l=a.audioInput,m=a.videoInput;a=c("ZenonMediaDevicesHooks").useMediaDevices();var n=d("ZenonSettingsHooks").useSwitchLocalMediaDevices(),o=i(0),p=o[0],q=o[1];h(function(){c("VideoStallDetector").addListener(d("VideoStallConstants").VIDEO_STALLED_EVENT,function(a){e(a)})},[]);h(function(){c("VideoStallDetector").stop(),c("VideoStallDetector").start(f)},[f]);h(function(){if(!b)return;if(g===d("ZenonCallsModelTypes").ZenonCallState.Terminating||g===d("ZenonCallsModelTypes").ZenonCallState.Terminated){c("ZenonMediaActionLogger").logCheckpoint("[video stall recovery] not performing recovery in "+(g===d("ZenonCallsModelTypes").ZenonCallState.Terminated?"terminated":"terminating")+" call state");return}if(p>=d("VideoStallConstants").MAX_STALL_RECOVERY_TRIES){c("ZenonMediaActionLogger").logCheckpoint("[video stall recovery] Not performing recovery due to max limit reached");return}if(k){c("ZenonMediaActionLogger").logCheckpoint("[video stall recovery] not performing video recovery while screensharing");return}c("ZenonMediaActionLogger").logCheckpoint("[video stall recovery] restarting local video by switching to "+String(m)+" which is the same previous device");n({audioInputDeviceId:l,shouldUpdateBrowserStorage:!1,shouldUseExactDeviceID:!0,typesToSwitch:"video_only",videoInputDeviceId:m})["catch"](function(a){c("ZenonMediaActionLogger").logEvent({checkpoint:"[video stall recovery] encountered error while recovering",errorDomain:j,errorType:a==null?void 0:a.message})});q(p+1);e(!1)},[l,g,k,a,p,b,n,m])}g.useVideoStallRecoveryHandler=a}),98);
__d("VideoStallRecoveryDataProvider.react",["VideoStallRecoveryHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("VideoStallRecoveryHooks").useVideoStallRecoveryHandler();return null}g["default"]=a}),98);
__d("VideoStallRecoveryErrorBoundaryProject",[],(function(a,b,c,d,e,f){"use strict";a="video_stall_recovery";f["default"]=a}),66);
__d("VideoStallRecoveryPlugin",["VideoStallRecoveryDataProvider.react","VideoStallRecoveryErrorBoundaryProject"],(function(a,b,c,d,e,f,g){"use strict";a={errorBoundaryProject:c("VideoStallRecoveryErrorBoundaryProject"),impl:{component:c("VideoStallRecoveryDataProvider.react"),type:"required"},key:"VideoStallRecoveryDataProvider"};b=a;g["default"]=b}),98);